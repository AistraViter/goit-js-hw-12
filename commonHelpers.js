import{a as h,S as L,i as E}from"./assets/vendor-b11e2a50.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const w="44002741-2ff50451c0a1667e01f2d5f97";h.defaults.baseURL="https://pixabay.com/api/";async function b(s){return(await h.get("/",{params:{key:w,q:s,image_type:"photo",orientation:"horizontal",safesearch:"true"}})).data}function I(s){return s.map(t=>{const n=document.createElement("li");n.classList.add("gallery-item");const a=document.createElement("a");a.classList.add("gallery-link"),a.href=t.largeImageURL;const e=document.createElement("img");e.classList.add("gallery-image"),e.src=t.webformatURL,e.dataset.source=t.largeImageURL,e.alt=t.tags;const o=document.createElement("ul");o.classList.add("image-caption");const c=document.createElement("li");c.classList.add("caption-item");const m=document.createElement("p");m.textContent=`Likes: 
${t.likes}`;const i=document.createElement("li");i.classList.add("caption-item");const p=document.createElement("p");p.textContent=`Views: 
${t.views}`;const l=document.createElement("li");l.classList.add("caption-item");const u=document.createElement("p");u.textContent=`Comments: 
${t.comments}`;const d=document.createElement("li");d.classList.add("caption-item");const f=document.createElement("p");return f.textContent=`Downloads: 
${t.downloads}`,a.append(e),c.append(m),i.append(p),l.append(u),d.append(f),o.append(c,i,l,d),n.append(a),n.append(o),n})}function x(s,t){s.innerHTML="",s.append(...t)}function C(){return new L(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250})}function y(s){E.show({class:"promise-message",iconUrl:"/goit-js-hw-11/cancel-circle.svg",iconColor:"whte",message:s,messageColor:"white",messageSize:"18",backgroundColor:"red",position:"topRight",class:"custom-toast",icon:"iziToast-icon"})}const g=document.querySelector(".search-form"),S=document.querySelector("#input-search"),v=document.querySelector("ul.gallery"),r=document.createElement("div");r.classList.add("loader");r.style.display="none";document.body.appendChild(r);g.addEventListener("submit",s=>{s.preventDefault();const t=S.value.trim();t!==""&&(r.style.display="block",b(t).then(n=>{if(n.totalHits>=1){const a=I(n.hits);x(v,a),C().refresh()}else y("Sorry, there are no images matching your search query. Please try again!")}).catch(n=>{y("An error occurred while fetching the images. Please try again!"),console.log(n)}).finally(()=>{r.style.display="none",g.reset()}))});
//# sourceMappingURL=commonHelpers.js.map
