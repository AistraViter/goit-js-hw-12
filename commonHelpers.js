import{a as h,S as L,i as E}from"./assets/vendor-b11e2a50.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const w="44002741-2ff50451c0a1667e01f2d5f97";h.defaults.baseURL="https://pixabay.com/api/";async function b(n){return await h.get("/",{params:{key:w,q:n,image_type:"photo",orientation:"horizontal",safesearch:"true"}})}function I(n){return n.map(t=>{const a=document.createElement("li");a.classList.add("gallery-item");const s=document.createElement("a");s.classList.add("gallery-link"),s.href=t.largeImageURL;const e=document.createElement("img");e.classList.add("gallery-image"),e.src=t.webformatURL,e.dataset.source=t.largeImageURL,e.alt=t.tags;const o=document.createElement("ul");o.classList.add("image-caption");const c=document.createElement("li");c.classList.add("caption-item");const m=document.createElement("p");m.textContent=`Likes: 
${t.likes}`;const r=document.createElement("li");r.classList.add("caption-item");const p=document.createElement("p");p.textContent=`Views: 
${t.views}`;const l=document.createElement("li");l.classList.add("caption-item");const u=document.createElement("p");u.textContent=`Comments: 
${t.comments}`;const d=document.createElement("li");d.classList.add("caption-item");const f=document.createElement("p");return f.textContent=`Downloads: 
${t.downloads}`,s.append(e),c.append(m),r.append(p),l.append(u),d.append(f),o.append(c,r,l,d),a.append(s),a.append(o),a})}function x(n,t){n.innerHTML="",n.append(...t)}function C(){return new L(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250})}function y(n){E.show({class:"promise-message",iconUrl:"/goit-js-hw-11/cancel-circle.svg",iconColor:"whte",message:n,messageColor:"white",messageSize:"18",backgroundColor:"red",position:"topRight",class:"custom-toast",icon:"iziToast-icon"})}const g=document.querySelector(".search-form"),S=document.querySelector("#input-search"),v=document.querySelector("ul.gallery"),i=document.createElement("div");i.classList.add("loader");i.style.display="none";document.body.appendChild(i);g.addEventListener("submit",n=>{n.preventDefault();const t=S.value.trim();t!==""&&(i.style.display="block",b(t).then(a=>{const s=a.data;if(s.totalHits>=1){const e=I(s.hits);x(v,e),C().refresh()}else y("Sorry, there are no images matching your search query. Please try again!")}).catch(a=>{y("An error occurred while fetching the images. Please try again!"),console.log(a)}).finally(()=>{i.style.display="none",g.reset()}))});
//# sourceMappingURL=commonHelpers.js.map
