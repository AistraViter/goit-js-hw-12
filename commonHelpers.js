import{a as b,S as P,i as q}from"./assets/vendor-b11e2a50.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const C="44002741-2ff50451c0a1667e01f2d5f97",E=15;b.defaults.baseURL="https://pixabay.com/api/";async function w(s,t){return(await b.get("/",{params:{key:C,q:s,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:E}})).data}function I(s){return s.map(t=>{const o=document.createElement("li");o.classList.add("gallery-item");const a=document.createElement("a");a.classList.add("gallery-link"),a.href=t.largeImageURL;const e=document.createElement("img");e.classList.add("gallery-image"),e.src=t.webformatURL,e.dataset.source=t.largeImageURL,e.alt=t.tags;const n=document.createElement("ul");n.classList.add("image-caption");const c=document.createElement("li");c.classList.add("caption-item");const g=document.createElement("p");g.textContent=`Likes: 
${t.likes}`;const m=document.createElement("li");m.classList.add("caption-item");const h=document.createElement("p");h.textContent=`Views: 
${t.views}`;const p=document.createElement("li");p.classList.add("caption-item");const f=document.createElement("p");f.textContent=`Comments: 
${t.comments}`;const u=document.createElement("li");u.classList.add("caption-item");const L=document.createElement("p");return L.textContent=`Downloads: 
${t.downloads}`,a.append(e),c.append(g),m.append(h),p.append(f),u.append(L),n.append(c,m,p,u),o.append(a),o.append(n),o})}function k(s,t){s.innerHTML="",s.append(...t)}function x(){return new P(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250})}function l(s){q.show({class:"promise-message",iconUrl:"/goit-js-hw-12/cancel-circle.svg",iconColor:"whte",message:s,messageColor:"white",messageSize:"18",backgroundColor:"red",position:"topRight",class:"custom-toast",icon:"iziToast-icon"})}const D=document.querySelector(".search-form"),S=document.querySelector("#input-search"),v=document.querySelector("ul.gallery"),y=document.querySelector("#btn-load-more");let i,d;const r=document.createElement("div");r.classList.add("loader");r.style.display="none";document.body.appendChild(r);D.addEventListener("submit",s=>{s.preventDefault();const t=S.value.trim();t!==""&&(r.style.display="block",i=1,w(t,i).then(o=>{if(d=o.totalHits,d>=1){const a=I(o.hits);console.log(a.length),k(v,a),x().refresh(),y.style.display="block"}else l("Sorry, there are no images matching your search query. Please try again!")}).catch(o=>{l("An error occurred while fetching the images. Please try again!"),console.log(o)}).finally(()=>{r.style.display="none"}))});y.addEventListener("click",s=>{s.preventDefault();const t=S.value.trim();r.style.display="block",i++,w(t,i).then(o=>{if(d=o.totalHits-(i-1)*E,d>=1){const a=I(o.hits);v.append(...a),x().refresh(),y.style.display="block"}else l("Sorry, there are no images matching your search query. Please try again!")}).catch(o=>{l("An error occurred while fetching the images. Please try again!"),console.log(o)}).finally(()=>{r.style.display="none"})});
//# sourceMappingURL=commonHelpers.js.map
