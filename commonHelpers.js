import{S as y,i as L}from"./assets/vendor-0fc460d7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const E="44002741-2ff50451c0a1667e01f2d5f97",w="https://pixabay.com/api/";function I(c){const t=new URLSearchParams({key:E,q:c,image_type:"photo",orientation:"horizontal",safesearch:"true"}),n=`${w}?${t.toString()}`;return fetch(n).then(s=>{if(!s.ok)throw new Error(s.status);return s.json()})}function b(c){return c.map(t=>{const n=document.createElement("li");n.classList.add("gallery-item");const s=document.createElement("a");s.classList.add("gallery-link"),s.href=t.largeImageURL;const e=document.createElement("img");e.classList.add("gallery-image"),e.src=t.webformatURL,e.dataset.source=t.largeImageURL,e.alt=t.tags;const o=document.createElement("ul");o.classList.add("image-caption");const a=document.createElement("li");a.classList.add("caption-item");const d=document.createElement("p");d.textContent=`Likes: 
${t.likes}`;const i=document.createElement("li");i.classList.add("caption-item");const p=document.createElement("p");p.textContent=`Views: 
${t.views}`;const l=document.createElement("li");l.classList.add("caption-item");const u=document.createElement("p");u.textContent=`Comments: 
${t.comments}`;const m=document.createElement("li");m.classList.add("caption-item");const f=document.createElement("p");return f.textContent=`Downloads: 
${t.downloads}`,s.append(e),a.append(d),i.append(p),l.append(u),m.append(f),o.append(a,i,l,m),n.append(s),n.append(o),n})}function S(c,t){c.innerHTML="",c.append(...t)}function C(){return new y(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250})}function h(c){L.show({class:"promise-message",iconUrl:"/goit-js-hw-11/cancel-circle.svg",iconColor:"whte",message:c,messageColor:"white",messageSize:"18",backgroundColor:"red",position:"topRight",class:"custom-toast",icon:"iziToast-icon"})}const g=document.querySelector(".search-form"),P=document.querySelector("#input-search"),x=document.querySelector("ul.gallery"),r=document.createElement("div");r.classList.add("loader");r.style.display="none";document.body.appendChild(r);g.addEventListener("submit",c=>{c.preventDefault();const t=P.value.trim();t!==""&&(r.style.display="block",I(t).then(n=>{if(n.totalHits>=1){const s=b(n.hits);S(x,s),C().refresh()}else h("Sorry, there are no images matching your search query. Please try again!")}).catch(n=>{h("An error occurred while fetching the images. Please try again!"),console.log(n)}).finally(()=>{r.style.display="none",g.reset()}))});
//# sourceMappingURL=commonHelpers.js.map
