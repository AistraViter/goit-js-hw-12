import{a as I,S as R,i as x}from"./assets/vendor-b11e2a50.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const T="44002741-2ff50451c0a1667e01f2d5f97",y=15;I.defaults.baseURL="https://pixabay.com/api/";async function q(t,e){const{data:n}=await I.get("/",{params:{key:T,q:t,image_type:"photo",orientation:"horizontal",safesearch:"true",page:e,per_page:y}});return n}function v(t){const e=document.createElement("p");return e.classList.add("loader"),e.textContent="Loading images, please wait",e.style.display="block",t.append(e)}function L(){const t=document.querySelector(".loader");t.style.display="none",t.remove()}function C(t){return t.map(e=>{const n=document.createElement("li");n.classList.add("gallery-item");const a=document.createElement("a");a.classList.add("gallery-link"),a.href=e.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=e.webformatURL,o.dataset.source=e.largeImageURL,o.alt=e.tags;const r=document.createElement("ul");r.classList.add("image-caption");const s=document.createElement("li");s.classList.add("caption-item");const b=document.createElement("p");b.textContent=`Likes: 
${e.likes}`;const f=document.createElement("li");f.classList.add("caption-item");const w=document.createElement("p");w.textContent=`Views: 
${e.views}`;const h=document.createElement("li");h.classList.add("caption-item");const E=document.createElement("p");E.textContent=`Comments: 
${e.comments}`;const g=document.createElement("li");g.classList.add("caption-item");const S=document.createElement("p");return S.textContent=`Downloads: 
${e.downloads}`,a.append(o),s.append(b),f.append(w),h.append(E),g.append(S),r.append(s,f,h,g),n.append(a),n.append(r),n})}function H(t,e){t.innerHTML="",t.append(...e)}function M(){return new R(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250})}function i(t,e,n){x.show({class:"promise-message",iconUrl:"/goit-js-hw-12/cancel-circle.svg",iconColor:"whte",message:t,messageColor:"white",messageSize:"18",backgroundColor:n,position:e,class:"custom-toast",icon:"iziToast-icon"})}function k(){const t=document.querySelector(".gallery-item");if(t){const n=t.getBoundingClientRect().height*2;window.scrollBy({top:n,left:0,behavior:"smooth"})}}const m=document.querySelector(".search-form"),A=document.querySelector("#input-search"),d=document.querySelector("ul.gallery"),c=document.querySelector("#btn-load-more"),D=document.querySelector(".loadmore-after-searchform-container"),O=document.querySelector(".loadmore-after-btn-container");let p,u,l,P=M();m.addEventListener("submit",async t=>{if(t.preventDefault(),u=A.value.trim(),u!=="")try{v(D);const e=await q(u,p=1);if(l=e.totalHits,l>=1){const n=C(e.hits);H(d,n),P.refresh(),l-y>=1?c.style.display="block":(c.style.display="none",i("We're sorry, but you've reached the end of search results.","bottomRight","blue"))}else c.style.display="none",i("Sorry, there are no images matching your search query. Please try again!","topRight","red"),d.innerHTML=""}catch(e){d.innerHTML="",i("An error occurred while fetching the images. Please try again!","topRight","red"),console.log(e)}finally{L(),m.reset()}else c.style.display="none",i("Please enter a search query!","topRight","red"),d.innerHTML="",L(),m.reset()});c.addEventListener("click",async t=>{t.preventDefault(),v(O),p++;const e=await q(u,p);try{if(l=e.totalHits-(p-1)*y,l>=1){const n=C(e.hits);d.append(...n),P.refresh(),k(),l-y>=1?c.style.display="block":(c.style.display="none",i("We're sorry, but you've reached the end of search results.","bottomRight","blue"))}}catch{i("An error occurred while fetching the images. Please try again!","topRight","red"),console.log(error)}finally{L(),m.reset()}});
//# sourceMappingURL=commonHelpers.js.map
